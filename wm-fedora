#!/bin/sh

echo " ██████╗ ███████╗██████╗ ██╗    ██╗███╗   ███╗██████╗ ██╗   ██╗██████╗  █████╗ ██████╗  ██████╗██╗  ██╗        ███████╗███████╗██████╗  ██████╗ ██████╗  █████╗  ;"
echo " ██╔══██╗██╔════╝██╔══██╗██║    ██║████╗ ████║██╔══██╗╚██╗ ██╔╝██╔══██╗██╔══██╗██╔══██╗██╔════╝██║  ██║        ██╔════╝██╔════╝██╔══██╗██╔═══██╗██╔══██╗██╔══██╗  ;"
echo " ██████╔╝███████╗██████╔╝██║ █╗ ██║██╔████╔██║██████╔╝ ╚████╔╝ ██║  ██║███████║██████╔╝██║     ███████║        █████╗  █████╗  ██║  ██║██║   ██║██████╔╝███████║  ;"
echo " ██╔══██╗╚════██║██╔═══╝ ██║███╗██║██║╚██╔╝██║██╔══██╗  ╚██╔╝  ██║  ██║██╔══██║██╔══██╗██║     ██╔══██║        ██╔══╝  ██╔══╝  ██║  ██║██║   ██║██╔══██╗██╔══██║  ;"
echo " ██████╔╝███████║██║     ╚███╔███╔╝██║ ╚═╝ ██║██████╔╝   ██║   ██████╔╝██║  ██║██║  ██║╚██████╗██║  ██║███████╗██║     ███████╗██████╔╝╚██████╔╝██║  ██║██║  ██║  ;"
echo " ╚═════╝ ╚══════╝╚═╝      ╚══╝╚══╝ ╚═╝     ╚═╝╚═════╝    ╚═╝   ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝╚═╝  ╚═╝╚══════╝╚═╝     ╚══════╝╚═════╝  ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝  ;"

                                                                                                                                                                                                                                                            
sleep 3

sudo -v
while true; do
  sudo -nv; sleep 1m
  kill -0 $$ 2>/dev/null || exit
done &

#Instalar bspwmbydarch_fedora
cd 
sudo dnf install -y fedora-workstation-repositories && sudo dnf install -y https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm https://mirrors.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm 
sudo dnf repolist --all
sleep 4
clear
sudo echo "fastestmirror=true" >> /etc/dnf/dnf.conf
sudo echo "deltarpm=true" >> /etc/dnf/dnf.conf
cat /etc/dnf/dnf.conf
sleep 3
sudo dnf update -y 
cd 
clear
sudo dnf install -y bspwm sxhkd make gcc libXinerama-devel libXft libXft-devel harfbuzz-devel xdg-user-dirs @base-x 
sudo xdg-user-dirs-update
sudo dnf groupinstall -y "Development Tools" "Multimedia" "Input Methods" "Fonts" "C Development Tools and Libraries" "Container Management"
git clone https://github.com/darch7/bspwmbydarch_fedora
cp -R bspwmbydarch_fedora/config/* $HOME/.config/ 
cp -R bspwmbydarch_fedora/.local $HOME/
mv .local/fonts ~/.local/share/ 
sudo chmod +x .local/bin/scripts
cp -R bspwmbydarch_fedora/home/.[^.]* $HOME/ 
cd bspwmbydarch_fedora/compilar/st 
sudo make clean install 
cd 
sudo dnf install -y materia-gtk-theme papirus-icon-theme xsetroot cmake meson rofi nitrogen thunar thunar-archive-plugin thunar-volman thunar-media-tags-plugin zsh zsh-autosuggestions zsh-syntax-highlighting zathura-zsh-completion tmux htop telegram-desktop xarchiver ffmpeg maim xclip xdotool mpv firefox dnf-utils ranger neovim neofetch libva-intel-driver slock transmission sxiv dunst zathura-pdf-poppler zathura intel-media-driver papirus-icon-theme polybar 
sudo dnf install -y slim  
sudo systemctl set-default graphical.target

clear

touch .xinitrc
sudo echo "exec bspwm" >> ~/.xinitrc
cat .xinitrc
sleep 2


clear

neofetch
sleep 5
uname -r 
sleep 3

echo "BspwmbyDarch_fedora instalado"
sleep 5
clear
sudo systemctl reboot
